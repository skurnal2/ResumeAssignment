<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIMSIO Resume JSON Reader</title>
</head>
<body>
    <div id="container">
        <div id="heading-section"></div>
        <div id="languages-section"></div>
        <div id="contact-section"></div>
        <div id="hobbies-section"></div>
        <div id="education-section"></div>
        <div id="skills-section"></div>
        <div id="work-history-section"></div>
        <div id="volunteer-work-section"></div>
        <div id="awards-section"></div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>      
    $(document).ready(function() {
        //Reading JSON File
        $.getJSON('json-data/resume-data.json', function(data) {                           
            //About Heading
            var headingDiv = $("#heading-section");
                //Heading Name and Title          
                $("<h1>").text(data.heading.name).appendTo(headingDiv);
                $("<h2>").text(data.heading.title).appendTo(headingDiv);                                
            
                //About Me
                $("<h3>").text("About Me").appendTo(headingDiv);
                $("<div>").text(data.heading.about).appendTo(headingDiv);
            
            //Languages
            var languagesDiv = $("#languages-section");
                //Heading
                $("<h3>").text("Language Proficiency").appendTo(languagesDiv);

                //List
                var languageList = $("<ul>").appendTo(languagesDiv);
                //Loop
                $(data.languages).each(function(index, value) {
                    languageList.append($("<li>").append(value.language)
                                                 .append(" ("+value.level+")"))
                });
            
            //Contact
            var contactDiv = $("#contact-section");
                //Heading
                $("<h3>").text("Let's Get in Touch").appendTo(contactDiv);
                //Loop through Contacts
                $(data.contact).each(function(index, value) {                    
                    var aContact = $("<div>"+value.method+": </div>")
                                        .append("<span>"+value.description+"</span>");
                    contactDiv.append(aContact);
                });

            //Hobbies
            var hobbiesDiv = $('#hobbies-section');
                //Heading
                $("<h3>").text("Hobbies").appendTo(hobbiesDiv);

                //UL List Variable
                var hobbiesList = $("<ul>").appendTo(hobbiesDiv);

                //Loop through hobbies
                $(data.hobbies).each(function(index, value) {
                    hobbiesList.append($("<li>").append(value));
                });
            
            //Education
            var educationDiv = $('#education-section');
                //Heading
                $("<h3>").text("Education").appendTo(educationDiv);
                
                //Education List
                $(data.education).each(function(index, value) {
                    var institute = $("<div class='institute'>").text(value.institute);
                    var program = $("<div class='program'>").append(value.program).append("<span> "+value.score+"</span>");
                    var duration = $("<div class='duration'>").text(value.start + " - " + value.end);
                    educationDiv.append(institute, program, duration);
                });
            
            //Skills
            var skillsDiv = $('#skills-section');
                //Heading
                $("<h3>").text("Skills").appendTo(skillsDiv);

                //UL List Variable
                var skillsList = $("<ul>").appendTo(skillsDiv);

                //Loop through Skills
                $(data.skills).each(function(index, value) {
                    var listItem = skillsList.append($("<li>").append(value.description));
                    
                    //If subskills exist, showing them
                    if(value.subskills) {
                        var subList = $("<ul>").appendTo(listItem);
                        $(value.subskills).each(function(subIndex, subValue) {
                            subList.append($("<li>").append(subValue));
                        });
                    }
                });
        });
    });
    </script>
</body>
</html>